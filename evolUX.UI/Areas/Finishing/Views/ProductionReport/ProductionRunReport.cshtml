@using Shared.Models.Areas.Finishing
@using Shared.ViewModels.Areas.Finishing
@model ProductionRunReportViewModel

@*https://www.w3.org/WAI/tutorials/tables/irregular/  https://datatables.net/extensions/buttons/examples/column_visibility/index.html*@

<div class="d-flex justify-content-center" >
    <div class="spinner-border" role="status" id="myLoader" style="display:none">
      <span class="sr-only">Loading...</span>
    </div>
    <div> [ @Model.ProductionRunReport.First().ServiceCompanyID ] @Model.ProductionRunReport.First().ServiceCompany</div>
</div>
    
<table class="table table-bordered table-sm table-hover">
    <col>
    <colgroup span="2"></colgroup>
    <colgroup span="3"></colgroup>
    <colgroup span="3"></colgroup>
    <colgroup span="3"></colgroup>
    <colgroup span="3"></colgroup>
    <colgroup span="3"></colgroup>
    <colgroup span="3"></colgroup>
    <thead class="table-info">
        <tr>
            <th rowspan="2" scope="rowgroup">RunDescription</th> @*BusinessDesc + [BusinessID] + RunDate + (RunSequence + [RunID])*@
            <th colspan="2" scope="colgroup">TotalToPrint</th>
            <th colspan="3" scope="colgroup">Processed</th>
            <th colspan="3" scope="colgroup">ToPrint</th>
            <th colspan="3" scope="colgroup">S2Printer</th>
            <th colspan="3" scope="colgroup">Printed</th>
            <th colspan="3" scope="colgroup">FullFill</th>
            <th colspan="3" scope="colgroup">Expedition</th>
        </tr>
        <tr>
            <th scope="row">Files</th>
            <th scope="row">RecFiles</th>
            <th scope="row">Total</th>
            <th scope="row">Start</th>
            <th scope="row">End</th>
            <th scope="row">Total</th>
            <th scope="row">Start</th>
            <th scope="row">End</th>
            <th scope="row">Total</th>
            <th scope="row">Start</th>
            <th scope="row">End</th>
            <th scope="row">Total</th>
            <th scope="row">Start</th>
            <th scope="row">End</th>
            <th scope="row">Total</th>
            <th scope="row">Start</th>
            <th scope="row">End</th>
            <th scope="row">Total</th>
            <th scope="row">Start</th>
            <th scope="row">End</th>
        </tr>
    </thead>
    <tbody>
        @if (Model == null)
        {
            <tr><td colspan="5" class="text-center">No Model Data</td></tr>
        }
        else
        {
            @foreach (ProductionRunInfo p in Model.ProductionRunReport)
            {
                <tr>
                    @{
                        string RunName = p.BusinessDesc + "([" + @p.BusinessID + "]" + p.RunDate + "(" + p.RunSequence + "[" + p.RunID + "])";
                    }
                    <td><a class="btn btn-link link-info" asp-area="Finishing" asp-controller="ProductionReport" asp-action="ProductionReport" asp-route-runid="@p.RunID" asp-route-servicecompanyid="@p.ServiceCompanyID" asp-route-runname=@RunName>@RunName</a></td>
                    <td>@p.FilesLeftToPrint</td>
                    <td>@p.RecFilesLeftToPrint</td>
                    <td>@p.Processed.Total</td>
                    <td>@p.Processed.Start</td>
                    <td>@p.Processed.End</td>
                    <td>@p.ToPrint.Total</td>
                    <td>@p.ToPrint.Start</td>
                    <td>@p.ToPrint.End</td>
                    <td>@p.S2Printer.Total</td>
                    <td>@p.S2Printer.Start</td>
                    <td>@p.S2Printer.End</td>
                    <td>@p.Printed.Total</td>
                    <td>@p.Printed.Start</td>
                    <td>@p.Printed.End</td>
                    <td>@p.FullFill.Total</td>
                    <td>@p.FullFill.Start</td>
                    <td>@p.FullFill.End</td>
                    <td>@p.Expedition.Total</td>
                    <td>@p.Expedition.Start</td>
                    <td>@p.Expedition.End</td>
                    @*<td><a asp-area="EvolDP" asp-controller="DocCode" asp-action="DocCodeLevel1" asp-route-doclayout="@p.DocLayout" asp-route-docsubtype="@p.DocType">Mais</a></td>*@
                </tr>
            }
        }
    </tbody>
</table>
    


