@using Shared.Models.Areas.Core
@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer localizer

@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewData["Title"] = "Home Page";
    var error = TempData["resultError"] as ErrorResult;
    var errorMessage = TempData["errorMessage"];
    var returnUrl = ViewData["returnUrl"];

}
@model UserLogin

<div class="align-items-center">
    @if (User.Identity.IsAuthenticated)
    {
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
        <style>
            .card {
            border-style: none;
            border-radius: 10px;
            background: #f7f7f7;
            transition: 0.3s ease;
            }

            .card:hover {
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.15);
            }

            .card h2 {
            background-image: linear-gradient(66deg, rgba(90, 205, 239, 1) 23%, rgba(87, 82, 150, 1) 45%, rgba(245, 126, 72, 1) 48%, rgba(233, 60, 82, 1) 62%);
            background-position: 0 0;
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            transition: all 0.5s ease;
            }

            .card:hover h2 {
            background-position: 100% 0;
            }

            .card h6 {
            font-size: 17px;
            font-weight: bold;
            }

            .card a {
            background-image: linear-gradient(66deg, rgba(90, 205, 239, 1) 23%, rgba(87, 82, 150, 1) 45%, rgba(245, 126, 72, 1) 48%, rgba(233, 60, 82, 1) 62%);
            background-position: 0 0;
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            transition: all 0.5s ease;
            font-weight: bold;
            }

            .card:hover a {
            background-position: 100% 0;
            }

            .card-header {
            background-color: transparent;
            border-style: none;
            text-align: left;
            font-size: 23px;
            }
            /*
            *
            * ==========================================
            * CUSTOM UTIL CLASSES
            * ==========================================
            *
            */

            .progress {
            width: 90px;
            height: 90px;
            background: none;
            position: relative;
            }

            .progress::after {
            content: "";
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 6px solid #eee;
            position: absolute;
            top: 0;
            left: 0;
            }

            .progress > span {
            width: 50%;
            height: 100%;
            overflow: hidden;
            position: absolute;
            top: 0;
            z-index: 1;
            }

            .progress .progress-left {
            left: 0;
            }

            .progress .progress-bar {
            width: 100%;
            height: 100%;
            background: none;
            border-width: 6px;
            border-style: solid;
            position: absolute;
            top: 0;
            }

            .progress .progress-left .progress-bar {
            left: 100%;
            border-top-right-radius: 80px;
            border-bottom-right-radius: 80px;
            border-left: 0;
            -webkit-transform-origin: center left;
            transform-origin: center left;
            transition: transform .8s linear .8s;
            }

            .progress .progress-right {
            right: 0;
            }

            .progress .progress-right .progress-bar {
            left: -100%;
            border-top-left-radius: 80px;
            border-bottom-left-radius: 80px;
            border-right: 0;
            -webkit-transform-origin: center right;
            transform-origin: center right;
            transition: transform .8s linear;
            }

            .progress .progress-value {
            position: absolute;
            top: 0;
            left: 0;
            }

            .progress-value .h2 {
            font-size: 30px;
            }

            .scrollbox {
                background-color: transparent;
                width: 90%;
                height: 100px;
                overflow-y: scroll;
                scrollbar-color: #aaa #f1f1f1;
                scrollbar-width: thin;
            }

                .scrollbox::-webkit-scrollbar {
                    width: 12px;
                }

                .scrollbox::-webkit-scrollbar-thumb {
                    background-color: #aaa;
                    border-radius: 10px;
                }

                .scrollbox::-webkit-scrollbar-track {
                    background-color: #f1f1f1;
                }

            .card-body ul {
                list-style: none;
            }

                .card-body ul li::before {
                    content: "\2022";
                    background-image: linear-gradient(66deg, rgba(90, 205, 239, 1) 23%, rgba(87, 82, 150, 1) 45%, rgba(245, 126, 72, 1) 48%, rgba(233, 60, 82, 1) 62%);
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                    font-weight: bold;
                    display: inline-block;
                    width: 1em;
                    margin-left: -1em;
                }
        </style>
        <script>
            $(function () {
            $(".progress").each(function () {
            var value = $(this).attr('data-value');
            var valuetxt = $(this).find('.progress-value').find('div.h2');
            var left = $(this).find('.progress-left .progress-bar');
            var right = $(this).find('.progress-right .progress-bar');

            if (value > 0) {
            if (value <= 50) {
            right.css('transform', 'rotate(' + percentageToDegrees(value) + 'deg)');
            } else {
            right.css('transform', 'rotate(180deg)');
            left.css('transform', 'rotate(' + percentageToDegrees(value - 50) + 'deg)');
            }

            if (value >= 100) {
            right.addClass('border-danger');
            left.addClass('border-danger');
            valuetxt.addClass('text-danger');
            }
            else if (value > 50 && value <= 75) {
            right.addClass('border-warning');
            left.addClass('border-warning');
            valuetxt.addClass('text-warning');
            }
            else if (value > 25 && value <= 50) {
            right.addClass('border-primary');
            left.addClass('border-primary');
            valuetxt.addClass('text-primary');
            }
            else if (value > 0 && value <= 25) {
            right.addClass('border-success');
            left.addClass('border-success');
            valuetxt.addClass('text-success');
            }
            }
            });

            function percentageToDegrees(percentage) {
            return percentage / 100 * 360;
            }
            });

        </script>
        <div style="user-select:none;">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-xl-15">
                        <div class="mb-4 card">
                            <div class="card-body">
                                <center>
                                    <h6 class="text-uppercase mb-0">@localizer["Welcome"]</h6>
                                    <h2 class="evol-font font-weight-bold mb-0">@User.Identity.Name</h2>
                                </center>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm-12 col-md-6 align-self-stretch">
                                <div class="mb-4 card">
                                    <div style="display: flex; align-items: center;" class="card-body">
                                        <div style="flex: 1;">
                                            <h6 class="text-uppercase mb-0">@localizer["JobsInExecution"]</h6>
                                            <h2 class="font-weight-bold mb-0">20</h2>
                                        </div>
                                        <div class="progress mx-auto" data-value='@(Convert.ToString(50 + 50))'>
                                            <span class="progress-left">
                                                <span class="progress-bar border-primary"></span>
                                            </span>
                                            <span class="progress-right">
                                                <span class="progress-bar border-primary"></span>
                                            </span>
                                            <div class="progress-value w-100 h-100 rounded-circle d-flex align-items-center justify-content-center">
                                                <div class="h2 font-weight-bold">
                                                    <span>@(Convert.ToString(50 + 50))<sup class="small">%</sup></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6 align-self-stretch">
                                <div class="mb-4 card">
                                    <div style="display: flex; align-items: center;" class="card-body">
                                        <div style="flex: 1;">
                                            <h6 class="text-uppercase mb-0">@localizer["Used"]</h6>
                                            <h2 class="font-weight-bold mb-0">7</h2>
                                        </div>
                                        <div class="progress mx-auto" data-value='@(Convert.ToString(50 + 10))'>
                                            <span class="progress-left">
                                                <span class="progress-bar border-primary"></span>
                                            </span>
                                            <span class="progress-right">
                                                <span class="progress-bar border-primary"></span>
                                            </span>
                                            <div class="progress-value w-100 h-100 rounded-circle d-flex align-items-center justify-content-center">
                                                <div class="h2 font-weight-bold">
                                                    <span>@(Convert.ToString(50 + 10))<sup class="small">%</sup></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm-12 col-md-4 align-self-stretch">
                                <div class="mb-4 card">
                                    <div style="display: flex; align-items: center;" class="card-body">
                                        <div style="flex: 1;">
                                            <h6 class="text-uppercase mb-0">@localizer["Users"]</h6>
                                            <h2 class="font-weight-bold mb-0">20</h2>
                                        </div>
                                        <div class="progress mx-auto" data-value='@(Convert.ToString(50 + 50))'>
                                            <span class="progress-left">
                                                <span class="progress-bar border-primary"></span>
                                            </span>
                                            <span class="progress-right">
                                                <span class="progress-bar border-primary"></span>
                                            </span>
                                            <div class="progress-value w-100 h-100 rounded-circle d-flex align-items-center justify-content-center">
                                                <div class="h2 font-weight-bold">
                                                    <span>@(Convert.ToString(50 + 50))<sup class="small">%</sup></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-4 align-self-stretch">
                                <div class="mb-4 card">
                                    <div style="display: flex; align-items: center;" class="card-body">
                                        <div style="flex: 1;">
                                            <h6 class="text-uppercase mb-0">@localizer["Tasks"]</h6>
                                            <h2 class="font-weight-bold mb-0">7</h2>
                                        </div>
                                        <div class="progress mx-auto" data-value='@(Convert.ToString(50 + 10))'>
                                            <span class="progress-left">
                                                <span class="progress-bar border-primary"></span>
                                            </span>
                                            <span class="progress-right">
                                                <span class="progress-bar border-primary"></span>
                                            </span>
                                            <div class="progress-value w-100 h-100 rounded-circle d-flex align-items-center justify-content-center">
                                                <div class="h2 font-weight-bold">
                                                    <span>@(Convert.ToString(50 + 10))<sup class="small">%</sup></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-4 align-self-stretch">
                                <div class="mb-4 card">
                                    <div style="display: flex; align-items: center;" class="card-body">
                                        <div style="flex: 1;">
                                            <h6 class="text-uppercase mb-0">@localizer["ProcessingServers"]</h6>
                                            <h2 class="font-weight-bold mb-0">5</h2>
                                        </div>
                                        <div class="progress mx-auto" data-value='@(Convert.ToString(10 + 10))'>
                                            <span class="progress-left">
                                                <span class="progress-bar border-primary"></span>
                                            </span>
                                            <span class="progress-right">
                                                <span class="progress-bar border-primary"></span>
                                            </span>
                                            <div class="progress-value w-100 h-100 rounded-circle d-flex align-items-center justify-content-center">
                                                <div class="h2 font-weight-bold">
                                                    <span>@(Convert.ToString(5 + 5))<sup class="small">%</sup></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 col-md-6 align-self-stretch">
                                <div class="mb-4 card">
                                    <a data-bs-toggle="collapse" href="#collapseOne">
                                        <div class="card-header">
                                            @localizer["FinishingCompanies"]
                                        </div>
                                    </a>
                                    <div id="collapseOne" class="collapse hide" data-bs-parent="#accordion">
                                        <div class="card-body">
                                            <center>
                                                <div class="scrollbox">
                                                    @for (var i = 0; i < 61; i++)
                                                    {
                                                        <hr />
                                                        <p>ABCDEFGHIJKLMNOPQRSTUVWXYZ @i</p>
                                                    }
                                                    <hr />
                                                </div>
                                            </center>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6 align-self-stretch">
                                <div class="mb-4 card">
                                    <a data-bs-toggle="collapse" href="#collapseTwo">
                                        <div class="card-header">
                                            @localizer["ExpeditionCompanies"]
                                        </div>
                                    </a>
                                    <div id="collapseTwo" class="collapse hide" data-bs-parent="#accordion">
                                        <div class="card-body">
                                            <center>
                                                <div class="scrollbox">
                                                    @for (var i = 0; i < 101; i++)
                                                    {
                                                        <hr/>
                                                        <p>ABCDEFGHIJKLMNOPQRSTUVWXYZ @i</p>
                                                    }
                                                    <hr />
                                                </div>
                                            </center>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    }
    else
    {
        <div class="container" style="margin-top:-70px">
            <div class="screen">
                <div class="screen__content">
                    <div>
                        <i>
                            <img src="~/images/evolSolutionslogin.png" class="logotipo no-click"/>
                        </i>
                    </div>
                    <svg id="snake" viewBox="0 50 320 300">
                        <defs>
                            <linearGradient inkscape:collect="always"
                                            id="linearGradient"
                                            x1="23"
                                            y1="193.49992"
                                            x2="307"
                                            y2="193.49992"
                                            gradientUnits="userSpaceOnUse">
                                <stop style="stop-color:#7bc3f3;"
                                      offset="0"
                                      id="stop876" />
                                <stop style="stop-color:#6324ff;"
                                      offset="0.3"
                                      id="stop876" />
                                <stop style="stop-color:#ff0000;"
                                      offset="1"
                                      id="stop878" />
                            </linearGradient>
                        </defs>
                        <path d="m 31.7,115 242,-0.00032 c 0,0 25,0 25,45 0,35 0,35 -20,35 h -239.99984 c 0,0 -25,0 -25,68 0,20 30,40 48,38.5 c 0,0 80,0 190,0 0,0 10,0 10,-10 0,0 0,-10 0,-40 0,0 0,-10 -10,-10 0,0 -80,0 -190,0 0,0 -10,0 -10,10 0,0 0,10 0,40 0,0 0,10 10,10 0,0 0,0 80,0 190,0"/>
                    </svg>
                    <form id="credentials-form" asp-area="core" asp-controller="auth" asp-action="LoginCredentials" method="get" class="login">
                        <div class="login__field">
                            <i>
                                <img src="~/images/man-userlogin.png" class="login__icon no-click">
                            </i>
                            <input type="text" asp-for="Username" id="emaillogin" class="login__input evol-font" placeholder="User name/Email">
                        </div>
                        <div class="login__field">
                            <i>
                                <img src="~/images/locklogin.png" class="login__icon no-click">
                            </i>
                            <input type="password" asp-for="Password" id="passwordlogin" class="login__input evol-font" style="display:" placeholder="Password">
                        </div>
                        <input type="hidden" name="returnUrl" value="@returnUrl">
                        <button class="login__submit button" name="Submit" style="margin-left: 30px" id="submitlogin">
                            <span class="evol-font">Entrar</span>
                            <i>
                                <img src="~/images/log-in-arrowlogin.png" class="button__icon no-click" />
                            </i>
                        </button>
                    </form>
                        <form id="windows-form" asp-area="core" asp-controller="auth" asp-action="LoginWindowsAuthentication" method="get" style="justify-self:center; height:100px; display:none">
                            <div style="margin-top:50px">
                            <h4 style="margin:55px; font-family: FreeMono, monospace; font-size: 20px">Entrar com o windows autentication</h4>
                                <input type="hidden" name="returnUrl" value="@returnUrl">
                                    <div>
                                        <button type="submit" name="Submit" class="login__submit button btn-block" style="margin-left: 30px; width: 80%">
                                            <span class="evol-font" style="color: grey; margin-left: 70px">Autenticar</span>
                                        </button>
                                    </div>
                            </div>
                        </form>
                        <div class="auth-error">
                            @if (@errorMessage != null)
                            {
                                <p style="margin:0;">@errorMessage</p>
                            }
                        </div>
                    <div class="social-login">
                        <h1 style="font-family:Arial, Helvetica, sans-serif, monospace; font-size: 15px; color:grey">Faça log in por:</h1>
                        <div style="margin-top: 30px" class="pick-login">
                            <div id="windows-btn" class="circle windows">
                                <img src="~/images/windows_icon.png" style="margin-top:8px" />
                            </div>
                            <div id="credentials-btn" class="circle credentials">
                                <img src="~/images/enter_icon.png" style="margin-top:8px; width:30px; margin-left: -3px">
                            </div>                                          
                        </div>
                    </div>
                </div>
                <div class="screen__background">
                    <span class="screen__background__shape screen__background__shape2"></span>
                    <span class="screen__background__shape screen__background__shape1"></span>
                </div>
            </div>
        </div>

        @*<div class="container-auth">
            <div class="tittle">
                <h1 class="evol-font"></h1>
            </div>
            <div id="form-wrap" class="login-form">
                <form id="credentials-form" asp-area="core" asp-controller="auth" asp-action="LoginCredentials" method="get" style="width:100%; display:none; height:100px;">
                    <label style="display: block; padding-left:10px; font-weight:bold">Username:</label>
                    <input type="text" asp-for="Username" style="width:100%;border:none; background:rgb(230,230,230)">
                    <label style="display: block;padding-left:10px; font-weight:bold">Password:</label>
                    <input type="password" asp-for="Password" style="width:100%; border:none;background:rgb(230,230,230)">
                    <input type="hidden" name="returnUrl" value="@returnUrl">
                    <input type="submit" name="Submit" class="btn btn-block btn-outline-success" />
                </form>
                <form id="windows-form" asp-area="core" asp-controller="auth" asp-action="LoginWindowsAuthentication" method="get" style="justify-self:center; height:100px; ">
                    <h4 style="margin:0">Entrar com o windows autentication</h4>
                    <input type="hidden" name="returnUrl" value="@returnUrl">
                    <input type="submit" name="Submit" class="btn btn-block btn-success" />
                </form>
                <div class="auth-error">
                    @if (@errorMessage != null)
                    {
                        <p style="margin:0;">@errorMessage</p>
                    }
                </div>

            </div>
            <div class="pick-login">
                <div id="windows-btn" class=" circle windows"></div>
                <div id="credentials-btn" class=" circle credentials"></div>
            </div>
            @*<div class="login-btn-wrap">
        <button id="login-btn">Login</button>
        </div>
        </div>*@
        
    }

    @*<div class="row d-flex justify-content-center h-100">

    <div class="col-12 col-md-8 col-lg-6 col-xl-5">

    @if (User.Identity.IsAuthenticated)
    {
    <p>@User.Identity.Name</p>
    foreach (var claim in User.Claims)
    {
    <p>@claim.Type: @claim.Value</p>
    }

    }
    else
    {
    <div class="card p-5 shadow-2-strong" style="background-color: rgb(248 248 248); border-radius:0px;">
    <div id="loginForm" class="card-body " style="display:none;">
    <div class="form-outline mb-4">
    <label class="form-label text-start" for="typeEmailX-2">Email</label>
    <input type="email" id="typeEmailX-2" class="form-control form-control-sm" />
    </div>

    <div class="form-outline mb-4">
    <label class="form-label text-start" for="typePasswordX-2">Password</label>
    <input type="password" id="typePasswordX-2" class="form-control form-control-sm" />
    </div>
    <div>
    <button class="btn btn-primary btn-lg btn-block" type="submit">Login</button>
    </div>
    </div>
    <div class="card-body align-items-center" style="margin: 0 auto;">

    <a class="btn btn-primary" asp-area="core" asp-controller="auth" asp-action="LoginWindowsAuthentication">Entrar</a>
    <div id="loginFormBtn" class="btn btn-primary">Entrar Admin</div>

    </div>
    @if (@errorMessage != null)
    {
    <p style="color: red; padding-left:10px;">Erro @errorMessage.Code: @errorMessage.Message</p>
    }
    </div>
    }

    </div>
    </div>*@


</div>
